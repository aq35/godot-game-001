# 🔧 AutoLoadとは？（Godotの基本概念）

## 💡 AutoLoadの基本概念

**AutoLoad** = **自動読み込みシングルトン** のことです。

### 🌟 簡単に言うと
- **ゲーム起動時に自動で読み込まれる**
- **どのシーンからでもアクセス可能**
- **ゲーム終了まで存在し続ける**
- **グローバル変数・関数のようなもの**

## 🎮 なぜAutoLoadが必要？

### 問題：普通のシーンでは...
```gdscript
# シーンA.gd
var player_name = "Alice"
var score = 100

# シーンB.gd  
# シーンAの情報にアクセスできない！
# player_name が分からない！
```

### 解決：AutoLoadを使うと...
```gdscript
# AutoLoad (Game.gd)
var player_name = "Alice" 
var score = 100

# どのシーンからでも
print(Game.player_name)  # "Alice"
print(Game.score)        # 100
Game.score += 50         # どこからでも変更可能
```

## 📋 具体的な使用例

### 🎯 ゲームでよく使われるAutoLoad
1. **Game.gd** - プレイヤー情報、ゲーム進行状況
2. **Settings.gd** - 音量、画質設定など
3. **Audio.gd** - BGM、効果音管理
4. **Network.gd** - サーバー通信
5. **Save.gd** - セーブデータ管理

### 🔄 実際の動作イメージ
```
ゲーム起動
    ↓
AutoLoadが自動読み込み (Game.gd, Settings.gd等)
    ↓
タイトル画面 → Game.player_name でアクセス可能
    ↓
ゲーム画面 → Game.score += 10 で更新
    ↓  
設定画面 → Settings.volume を変更
    ↓
すべてのシーンで共通データを使用可能
```

## ⚙️ AutoLoadの設定方法

### Godot Editorでの設定
```
1. Project → Project Settings
2. AutoLoad タブを選択
3. Path: scripts/Game.gd を選択
4. Name: Game と入力
5. Add ボタンをクリック
```

### 設定後のアクセス方法
```gdscript
# どのスクリプトからでも以下のようにアクセス
Game.player_name = "新しい名前"
Settings.set_volume(0.8)
Audio.play_bgm("town_theme")
```

## 🏗️ 我々のプロジェクトでのAutoLoad構成

### 🎯 今回設定したAutoLoad

1. **EventBus.gd**
   ```gdscript
   # シグナル（イベント）の中央管理
   EventBus.player_logged_in.connect(_on_player_login)
   EventBus.emit_notification("ログイン成功")
   ```

2. **Settings.gd**
   ```gdscript
   # 設定の保存・読込
   Settings.get_setting("volume")  # 0.8
   Settings.set_setting("volume", 0.5)
   ```

3. **Game.gd**
   ```gdscript
   # ゲーム全体の状態管理
   Game.current_user  # ログイン中のユーザー
   Game.change_scene("res://scenes/MainTown.tscn")
   ```

## 🔍 AutoLoadの利点・欠点

### ✅ 利点
- **どこからでもアクセス可能**
- **データの永続化**（シーン切り替えでも消えない）
- **シングルトンパターン**が簡単に実装できる
- **グローバル機能**の実装に最適

### ⚠️ 注意点
- **使いすぎると管理が大変**
- **依存関係が複雑になりがち**
- **テストが難しくなる場合がある**
- **メモリを常に使用**

## 💻 実際のコード例